/* ========================================
   TAILWIND CSS & CONFIGURATION
   ======================================== */
@import "tailwindcss";

/* Dark mode variant configuration for Tailwind CSS v4 */
@variant dark (&:where(.dark, .dark *));

/* Theme configuration - defines default fonts and colors */
@theme {
  --color-background: #ffffff;
  --color-foreground: #171717;
  --font-sans: var(--font-cormorant);
  /* Cormorant Garamond - used for body text */
  --font-serif: var(--font-cinzel);
  /* Cinzel - used for headings */
}

/* Root CSS variables - used throughout the app */
:root {
  --background: #ffffff;
  --foreground: #171717;
}

/* Dark mode color overrides when user prefers dark color scheme */
@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

/* Global body styles - applied to entire application */
body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

/* ========================================
   CHARACTER PAGE STYLES
   Used in: app/characters/[slug]/page.tsx
   ======================================== */

/* Fantasy-themed card with torn parchment edges
   Used in: Character detail pages for content containers */
.dnd-card {
  position: relative;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  clip-path: polygon(1% 2%, 0% 5%, 2% 8%, 1% 12%, 0% 15%, 1% 18%, 0% 22%, 2% 25%, 1% 30%, 0% 35%,
      1% 38%, 0% 42%, 2% 45%, 1% 50%, 0% 55%, 1% 58%, 0% 62%, 2% 65%, 1% 70%, 0% 75%,
      1% 78%, 0% 82%, 2% 85%, 1% 88%, 0% 92%, 1% 95%, 0% 98%, 2% 99%, 5% 100%, 8% 99%,
      12% 100%, 15% 99%, 18% 100%, 22% 99%, 25% 100%, 30% 99%, 35% 100%, 38% 99%, 42% 100%,
      45% 99%, 50% 100%, 55% 99%, 58% 100%, 62% 99%, 65% 100%, 70% 99%, 75% 100%, 78% 99%,
      82% 100%, 85% 99%, 88% 100%, 92% 99%, 95% 100%, 98% 99%, 99% 98%, 100% 95%, 99% 92%,
      100% 88%, 99% 85%, 100% 82%, 98% 78%, 100% 75%, 99% 70%, 100% 65%, 99% 62%, 100% 58%,
      98% 55%, 100% 50%, 99% 45%, 100% 42%, 99% 38%, 100% 35%, 98% 30%, 100% 25%, 99% 22%,
      100% 18%, 99% 15%, 100% 12%, 98% 8%, 100% 5%, 99% 2%, 98% 1%, 95% 0%, 92% 1%,
      88% 0%, 85% 1%, 82% 0%, 78% 2%, 75% 0%, 70% 1%, 65% 0%, 62% 1%, 58% 0%, 55% 2%,
      50% 0%, 45% 1%, 42% 0%, 38% 1%, 35% 0%, 30% 2%, 25% 0%, 22% 1%, 18% 0%, 15% 1%,
      12% 0%, 8% 2%, 5% 0%, 2% 1%);
}

.dnd-card::before {
  content: "";
  position: absolute;
  inset: 0;
  background-image: url("/textures/parchment.png");
  background-size: cover;
  background-position: center;
  z-index: -2;
}

.dnd-card::after {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(to bottom,
      rgba(254, 252, 234, 0.85) 0%,
      rgba(251, 243, 219, 0.82) 100%);
  z-index: -1;
}

.dark .dnd-card::before {
  opacity: 0;
}

.dark .dnd-card::after {
  background: linear-gradient(to bottom,
      rgba(30, 27, 38, 0.75) 0%,
      rgba(42, 35, 52, 0.80) 100%);
  border: 2px solid rgba(168, 85, 247, 0.3);
}

.dark .dnd-card {
  box-shadow:
    0 4px 12px rgba(0, 0, 0, 0.5),
    0 0 20px rgba(168, 85, 247, 0.15),
    inset 0 1px 0 rgba(168, 85, 247, 0.1);
}

/* ========================================
   ANIMATED BACKGROUND LAYERS
   Used in: components/AnimatedBackground.tsx
   ======================================== */
@keyframes twinkle {

  0%,
  100% {
    opacity: 0.5;
  }

  50% {
    opacity: 1;
  }
}

@keyframes float {

  0%,
  100% {
    transform: translateX(0) translateY(0);
  }

  50% {
    transform: translateX(50px) translateY(-20px);
  }
}

@keyframes pulse {

  0%,
  100% {
    opacity: 0.3;
  }

  50% {
    opacity: 0.6;
  }
}

.stars-layer {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  height: 100%;
  background-image: radial-gradient(2px 2px at 20% 30%, white, transparent),
    radial-gradient(2px 2px at 60% 70%, white, transparent),
    radial-gradient(1px 1px at 50% 50%, white, transparent),
    radial-gradient(1px 1px at 80% 10%, white, transparent),
    radial-gradient(2px 2px at 90% 60%, white, transparent),
    radial-gradient(1px 1px at 33% 70%, white, transparent),
    radial-gradient(2px 2px at 79% 80%, white, transparent),
    radial-gradient(1px 1px at 15% 90%, white, transparent),
    radial-gradient(2px 2px at 45% 20%, white, transparent);
  background-repeat: repeat;
  background-size: 200px 200px;
  animation: twinkle 4s ease-in-out infinite;
  pointer-events: none;
  z-index: 1;
}

.twinkling-layer {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  height: 100%;
  background-image: radial-gradient(1px 1px at 40% 60%,
      rgba(251, 191, 36, 0.8),
      transparent),
    radial-gradient(1px 1px at 20% 80%,
      rgba(168, 85, 247, 0.6),
      transparent),
    radial-gradient(2px 2px at 70% 30%,
      rgba(251, 191, 36, 0.7),
      transparent),
    radial-gradient(1px 1px at 85% 75%,
      rgba(168, 85, 247, 0.5),
      transparent);
  background-repeat: repeat;
  background-size: 300px 300px;
  animation: twinkle 6s ease-in-out infinite reverse;
  pointer-events: none;
  z-index: 2;
}

.clouds-layer {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  height: 100%;
  background-image: radial-gradient(ellipse 100px 40px at 10% 20%,
      rgba(255, 255, 255, 0.8),
      transparent),
    radial-gradient(ellipse 80px 30px at 15% 22%,
      rgba(255, 255, 255, 0.6),
      transparent),
    radial-gradient(ellipse 120px 50px at 60% 40%,
      rgba(255, 255, 255, 0.7),
      transparent),
    radial-gradient(ellipse 90px 35px at 65% 42%,
      rgba(255, 255, 255, 0.5),
      transparent),
    radial-gradient(ellipse 110px 45px at 85% 60%,
      rgba(255, 255, 255, 0.75),
      transparent),
    radial-gradient(ellipse 70px 30px at 30% 70%,
      rgba(255, 255, 255, 0.65),
      transparent);
  background-repeat: repeat-x;
  background-size: 800px 400px;
  animation: float 30s ease-in-out infinite;
  pointer-events: none;
  z-index: 1;
}

.sun-rays {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  height: 100%;
  background-image: radial-gradient(circle at 80% 15%,
      rgba(255, 223, 0, 0.15),
      transparent 40%),
    radial-gradient(circle at 80% 15%,
      rgba(255, 255, 255, 0.3),
      transparent 30%);
  animation: pulse 8s ease-in-out infinite;
  pointer-events: none;
  z-index: 0;
}

/* ========================================
   MDX CONTENT STYLES
   Used in: Character MDX files (.mdx)
   ======================================== */
.mdx-content>*+* {
  margin-top: 1rem;
}

.mdx-content h2 {
  margin-top: 2rem;
  margin-bottom: 1rem;
}

.mdx-content h3 {
  margin-top: 1.5rem;
  margin-bottom: 0.75rem;
}

.mdx-content p {
  line-height: 1.75;
}

.mdx-content ul {
  list-style: none;
}

.mdx-content li {
  position: relative;
}

/* ========================================
   DICE PAGE ANIMATIONS
   Used in: components/DiceBackground.tsx
   ======================================== */
@keyframes diceFloat {

  0%,
  100% {
    transform: translateY(0) rotate(0deg);
  }

  25% {
    transform: translateY(-20px) rotate(5deg);
  }

  50% {
    transform: translateY(-10px) rotate(-5deg);
  }

  75% {
    transform: translateY(-15px) rotate(3deg);
  }
}

.dice-float {
  position: absolute;
  animation: diceFloat 20s ease-in-out infinite;
  pointer-events: none;
}

/* Utility class for radial gradients */
.bg-gradient-radial {
  background: radial-gradient(circle, var(--tw-gradient-stops));
}

/* ========================================
   NAVIGATION SYSTEM
   Used in: components/Navbar.tsx
   Inspired by: Uiverse.io button designs
   ======================================== */

/* Main navigation item styles
   - Hollow rhomboid shape with thick border (inactive state)
   - Filled gradient background (active state)
   - Germania One font with uppercase text */
.nav-item {
  --nav-gradient-0: #d97706;
  --nav-gradient-50: #ca8a04;
  --nav-gradient-100: #eab308;
  --nav-shine-top: #fef3c7;
  --nav-shine-bottom: #fde68a;

  font-weight: 400;
  font-size: 16px;
  padding: 10px 20px;
  margin: 0 4px;
  appearance: none;
  outline: none;
  overflow: hidden;
  position: relative;
  cursor: pointer;
  color: #d97706;
  font-family: var(--font-germania);
  text-transform: uppercase;
  letter-spacing: 2px;
  transition: all 0.25s;
  background: transparent;
  border: 3px solid #d97706;
  clip-path: polygon(8px 0%, 100% 0%, calc(100% - 8px) 100%, 0% 100%);
}

.nav-item:hover {
  background-color: rgba(217, 119, 6, 0.1);
}

.dark .nav-item {
  color: #8d49fd;
  border-color: #8d49fd;
}

.dark .nav-item:hover {
  background-color: rgba(141, 73, 253, 0.1);
}

/* Active navigation item - filled gradient background
   Applied when: Current page matches nav item route */
.nav-item.active {
  color: #fff;
  text-shadow: 0px 0.5px 0.5px rgba(0, 0, 0, 0.2);
  background-image: linear-gradient(to bottom,
      rgba(217, 119, 6, 0.45) 0%,
      rgba(202, 138, 4, 0.45) 50%,
      rgba(234, 179, 8, 0.45) 100%);
  box-shadow:
    0px 4px 12px rgba(217, 119, 6, 0.25),
    0px 2px 8px rgba(217, 119, 6, 0.15),
    inset 0px 1px 1px rgba(254, 243, 199, 0.3),
    inset 0px -1px 3px rgba(253, 230, 138, 0.4);
}

.dark .nav-item.active {
  --nav-shine-top: #e9d1ff;
  --nav-shine-bottom: #adfff9;

  background-image: linear-gradient(to bottom,
      rgba(141, 73, 253, 0.45) 0%,
      rgba(127, 86, 243, 0.45) 50%,
      rgba(86, 145, 243, 0.45) 100%);

  box-shadow:
    0px 4px 12px rgba(141, 73, 253, 0.25),
    0px 2px 8px rgba(141, 73, 253, 0.15),
    inset 0px 1px 1px rgba(233, 209, 255, 0.2),
    inset 0px -1px 3px rgba(173, 255, 249, 0.3);
}

.nav-item.active::before {
  content: "";
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  background-color: var(--nav-shine-top);
  width: 96px;
  height: 6px;
  top: -3px;
  opacity: 0.6;
  filter: blur(6px);
  border-radius: inherit;
  transition: opacity 0.25s;
}

.nav-item.active::after {
  content: "";
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  background-color: var(--nav-shine-bottom);
  width: 92px;
  height: 8px;
  bottom: -4px;
  opacity: 0.75;
  filter: blur(6px);
  border-radius: 50%;
  transition: opacity 0.25s, transform 0.25s;
}

.nav-item.active:hover::after {
  opacity: 0.9;
  transform: translateX(-50%) scale(1.25);
}

/* Dropdown menu container - appears on hover over nav items with sub-items */
.nav-dropdown {
  position: absolute;
  left: 0;
  margin-top: 0.5rem;
  min-width: 220px;
  background-color: rgb(254 252 234 / 0.95);
  backdrop-filter: blur(12px);
  border: 2px solid rgb(252 211 77);
  border-radius: 0.5rem;
  box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
  overflow: hidden;
}

.dark .nav-dropdown {
  background-color: rgb(24 0 80 / 0.95);
  border-color: rgb(147 51 234);
}

/* Individual items within dropdown menus */
.nav-dropdown-item {
  display: block;
  padding: 0.75rem 1.25rem;
  font-size: 0.875rem;
  color: rgb(120 53 15);
  font-family: var(--font-serif);
  font-weight: 500;
  transition: all 0.15s;
  border-left: 2px solid transparent;
}

.nav-dropdown-item:hover {
  background-color: rgb(254 215 170 / 0.9);
  border-left-color: rgb(217 119 6);
}

.dark .nav-dropdown-item {
  color: rgb(233 213 255);
}

.dark .nav-dropdown-item:hover {
  background-color: rgb(88 28 135 / 0.9);
  border-left-color: rgb(192 132 252);
}

/* Theme toggle button (light/dark mode switcher) */
.theme-toggle {
  padding: 0.5rem;
  background-color: transparent;
  border: none;
  outline: none;
  cursor: pointer;
  border-radius: 0.375rem;
  transition: background-color 0.2s;
}

.theme-toggle:hover {
  background-color: rgb(254 243 199 / 0.5);
}

.dark .theme-toggle:hover {
  background-color: rgb(88 28 135 / 0.5);
}